(this.webpackJsonpe_auction2=this.webpackJsonpe_auction2||[]).push([[0],{51:function(e,t,a){e.exports=a.p+"static/media/item1.0a089d77.jpg"},52:function(e,t,a){e.exports=a.p+"static/media/item2.c68c6122.jpg"},53:function(e,t,a){e.exports=a.p+"static/media/item3.86fef79a.jpg"},64:function(e,t,a){e.exports=a(84)},73:function(e,t,a){},74:function(e,t,a){},77:function(e,t,a){},78:function(e,t,a){},79:function(e,t,a){},80:function(e,t,a){},82:function(e,t,a){},83:function(e,t,a){},84:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(18),l=a.n(c),s=a(10),o=a(22),u=a(50),i=a.n(u),m=a(14),d={currentUser:"",currentUserProducts:[],currentUserID:""},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"Set_CurrentUser":return Object(m.a)({},e,{currentUser:t.payload});case"Set_CurrentUserProducts":return Object(m.a)({},e,{currentUserProducts:t.payload});case"Set_CurrentUserID":return Object(m.a)({},e,{currentUserID:t.payload});default:return e}},h=Object(o.c)({user:p}),f=[i.a],E=Object(o.d)(h,o.a.apply(void 0,f)),b=a(13),g=(a(73),a(23)),v=a(92),y=a(93),x=a(62),O=(a(74),a(51)),j=a.n(O),N=a(52),C=a.n(N),S=a(53),U=a.n(S),P=a(6),I=function(e){return{type:"Set_CurrentUser",payload:e}},w=function(e){return{type:"Set_CurrentUserProducts",payload:e}},k=function(e){return{type:"Set_CurrentUserID",payload:e}},D=Object(P.f)(Object(s.b)((function(e){return{currentUser:e.user.currentUser}}),(function(e){return{setCurrentUser:function(t){return e(I(t))},setCurrentUserProducts:function(t){return e(w(t))},setCurrentUserID:function(t){return e(k(t))}}}))((function(e){var t,a=e.currentUser,r=e.setCurrentUser,c=e.setCurrentUserProducts,l=e.setCurrentUserID,s=e.history;return n.a.createElement("div",null,n.a.createElement(v.a,(t={bg:"light"},Object(g.a)(t,"bg","primary"),Object(g.a)(t,"variant","dark"),Object(g.a)(t,"expand","lg"),Object(g.a)(t,"className","navbar"),t),n.a.createElement(v.a.Brand,{href:"#home",className:"brand"},"E_Auction"),n.a.createElement(v.a.Toggle,{"aria-controls":"basic-navbar-nav"}),n.a.createElement(v.a.Collapse,{id:"basic-navbar-nav"},n.a.createElement(x.a,{className:"mr-auto"},(console.log(a),""===a?n.a.createElement(b.b,{className:"link btn",to:"/login"},"Login"):n.a.createElement(b.b,{className:"link btn",onClick:function(e){!function(e,t,a,r){e(""),a(""),t([]),r.push("/")}(r,c,l,s)}},"Logout")),n.a.createElement(b.b,{className:"link btn",to:"/signup"},"SignUp"),""!==a?n.a.createElement("div",null,n.a.createElement(b.b,{className:"link btn",to:"/addnewproduct"},"Add New Product"),n.a.createElement(b.b,{className:"link btn",to:"/myproduct"},"My Product"),n.a.createElement(b.b,{className:"link btn",to:"/searchforproducts"},"Search For Products")):null))),n.a.createElement(y.a,null,n.a.createElement(y.a.Item,null,n.a.createElement("img",{className:"d-block w-100",height:"400px",src:j.a,alt:"First slide"})),n.a.createElement(y.a.Item,null,n.a.createElement("img",{className:"d-block w-100",height:"400px",src:C.a,alt:"Third slide"})),n.a.createElement(y.a.Item,null,n.a.createElement("img",{className:"d-block w-100 image-responsive",height:"400px",src:U.a,alt:"Third slide"}))))}))),F=a(9),T=a(86),_=a(87),B=a(60),M=a(91),G=a(88),L=a(94),J=(a(77),function(e,t,a,r,n,c,l){return function(s){s.preventDefault(),fetch("https://svu-e-auction.herokuapp.com/api/user/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userName:e,password:t})}).then((function(e){return e.json()})).then((function(e){console.log(e),1!==e.status?c(e.message):(a(e.data.userName),r(e.data.products),n(e.data._id),l.push("/searchforproducts"))}))}}),A=Object(s.b)(null,(function(e){return{setCurrentUser:function(t){return e(I(t))},setCurrentUserProducts:function(t){return e(w(t))},setCurrentUserID:function(t){return e(k(t))}}}))((function(e){var t=e.setCurrentUser,a=e.setCurrentUserProducts,c=e.setCurrentUserID,l=e.history,s=Object(r.useState)(""),o=Object(F.a)(s,2),u=o[0],i=o[1],m=Object(r.useState)(""),d=Object(F.a)(m,2),p=d[0],h=d[1],f=Object(r.useState)(""),E=Object(F.a)(f,2),b=E[0],g=E[1];return n.a.createElement(T.a,{fluid:"md"},n.a.createElement(_.a,null,n.a.createElement(B.a,{xs:8},n.a.createElement(M.a,{onSubmit:J(u,p,t,a,c,g,l)},n.a.createElement(M.a.Group,{as:_.a,controlId:"formPlaintextUserName"},n.a.createElement(M.a.Label,{column:!0,xs:"3"},"User Name"),n.a.createElement(B.a,{xs:"9"},n.a.createElement(M.a.Control,{type:"text",onChange:function(e){return i(e.target.value)},placeholder:"User Name"}))),n.a.createElement(M.a.Group,{as:_.a,controlId:"formPlaintextPassword"},n.a.createElement(M.a.Label,{column:!0,xs:"3"},"Password"),n.a.createElement(B.a,{xs:"9"},n.a.createElement(M.a.Control,{type:"password",onChange:function(e){return h(e.target.value)},placeholder:"Password"}))),n.a.createElement(_.a,null,n.a.createElement(B.a,{xs:"10"}),n.a.createElement(G.a,{variant:"primary",xs:"2",className:"submit-button",type:"submit"},"Submit"))),""===b?null:n.a.createElement(L.a,{variant:"danger"},b))))})),z=(a(78),function(e,t,a,r,n){return function(c){c.preventDefault();fetch("https://svu-e-auction.herokuapp.com/api/user/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userName:e,password:t,phoneNumber:a})}).then((function(e){return e.json()})).then((function(e){console.log(e),1!==e.status?r(e.message):n.push("/searchforproducts")}))}});function H(e){var t=e.history,a=Object(r.useState)(""),c=Object(F.a)(a,2),l=c[0],s=c[1],o=Object(r.useState)(""),u=Object(F.a)(o,2),i=u[0],m=u[1],d=Object(r.useState)(""),p=Object(F.a)(d,2),h=p[0],f=p[1],E=Object(r.useState)(""),b=Object(F.a)(E,2),g=b[0],v=b[1];return n.a.createElement(T.a,{fluid:"md"},n.a.createElement(_.a,null,n.a.createElement(B.a,{xs:8},n.a.createElement(M.a,{onSubmit:z(l,i,h,v,t)},n.a.createElement(M.a.Group,{as:_.a,controlId:"formPlaintextUserName"},n.a.createElement(M.a.Label,{column:!0,xs:"3"},"User Name"),n.a.createElement(B.a,{xs:"9"},n.a.createElement(M.a.Control,{type:"text",onChange:function(e){return s(e.target.value)},placeholder:"User Name"}))),n.a.createElement(M.a.Group,{as:_.a,controlId:"formPlaintextPassword"},n.a.createElement(M.a.Label,{column:!0,xs:"3"},"Password"),n.a.createElement(B.a,{xs:"9"},n.a.createElement(M.a.Control,{type:"password",onChange:function(e){return m(e.target.value)},placeholder:"Password"}))),n.a.createElement(M.a.Group,{as:_.a,controlId:"formPlaintextPhoneNumber"},n.a.createElement(M.a.Label,{column:!0,xs:"3"},"Phone Number"),n.a.createElement(B.a,{xs:"9"},n.a.createElement(M.a.Control,{type:"text",onChange:function(e){return f(e.target.value)},placeholder:"Phone Number"}))),n.a.createElement(_.a,null,n.a.createElement(B.a,{xs:"10"}),n.a.createElement(G.a,{variant:"primary",xs:"2",className:"submit-button",type:"submit"},"Submit"))),""===g?null:n.a.createElement(L.a,{variant:"danger"},g))))}a(79);var W=function(e,t,a,r,n){return function(c){c.preventDefault(),console.log(a);var l={_id:a};console.log(l),fetch("https://svu-e-auction.herokuapp.com/api/product/store",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({productName:e,initialPrice:t,user:l})}).then((function(e){return e.json()})).then((function(e){console.log(e),1!==e.status?r(e.message):n.push("/myproduct")}))}},$=Object(s.b)((function(e){return{currentUserID:e.user.currentUserID}}),null)((function(e){var t=e.currentUserID,a=e.history,c=Object(r.useState)(""),l=Object(F.a)(c,2),s=l[0],o=l[1],u=Object(r.useState)(""),i=Object(F.a)(u,2),m=i[0],d=i[1],p=Object(r.useState)(""),h=Object(F.a)(p,2),f=h[0],E=h[1];return n.a.createElement("div",null,""===t?n.a.createElement("div",null,a.push("/")):n.a.createElement(T.a,{fluid:"md"},n.a.createElement(_.a,null,n.a.createElement(B.a,{xs:8},n.a.createElement(M.a,{onSubmit:W(s,m,t,E,a)},n.a.createElement(M.a.Group,{as:_.a,controlId:"formPlaintextUserName"},n.a.createElement(M.a.Label,{column:!0,xs:"3"},"Product Name"),n.a.createElement(B.a,{xs:"9"},n.a.createElement(M.a.Control,{type:"text",onChange:function(e){return o(e.target.value)},placeholder:"Product Name"}))),n.a.createElement(M.a.Group,{as:_.a,controlId:"formPlaintextPassword"},n.a.createElement(M.a.Label,{column:!0,xs:"3"},"Inital Price"),n.a.createElement(B.a,{xs:"9"},n.a.createElement(M.a.Control,{type:"Number",onChange:function(e){return d(e.target.value)},placeholder:"Initial price"}))),n.a.createElement(_.a,null,n.a.createElement(B.a,{xs:"10"}),n.a.createElement(G.a,{variant:"primary",xs:"2",className:"submit-button",type:"submit"},"Submit"))),""===f?null:n.a.createElement(L.a,{variant:"danger"},f)))))})),q=a(34),K=a(35),Q=a(36),R=a(37),V=a(89),X=a(95),Y=a(90),Z=(a(80),function(e){Object(R.a)(a,e);var t=Object(Q.a)(a);function a(e){var r;return Object(q.a)(this,a),(r=t.call(this,e)).handelClick=function(e){fetch("https://svu-e-auction.herokuapp.com/api/product/sold/"+e)},r.state={products:[]},r}return Object(K.a)(a,[{key:"componentDidMount",value:function(){var e=this;""!==this.props.currentUserID&&fetch("https://svu-e-auction.herokuapp.com/api/product/userproducts/"+this.props.currentUserID).then((function(e){return e.json()})).then((function(t){e.setState({products:t.data})}))}},{key:"render",value:function(){var e=this;return n.a.createElement("div",null,""===this.props.currentUserID?n.a.createElement("div",null,this.props.history.push("/")):n.a.createElement(V.a,null," ",this.state.products.length>0?this.state.products.map((function(t){return n.a.createElement(B.a,{xs:"12",sm:"6",md:"4"},n.a.createElement(X.a,{className:"text-center cardClass",key:t._id},n.a.createElement(X.a.Header,null,n.a.createElement("h3",null,"Product Name : ",t.productName),n.a.createElement("h5",null,"Owner : ",t.user.userName),n.a.createElement("h6",null,"initial price : ",t.initialPrice),n.a.createElement("h6",null,"Max Bid Offer : ",t.maxOfferedPrice)),n.a.createElement(X.a.Body,{className:"cardbodyClass"},n.a.createElement(X.a.Title,null,"bids on product"),n.a.createElement(X.a.Text,null,n.a.createElement("div",{className:"showBids"},t.bidOffers.length>0?n.a.createElement(Y.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"offerd by"),n.a.createElement("th",null,"offered price"))),n.a.createElement("tbody",null,t.bidOffers.map((function(e){return n.a.createElement("tr",null,n.a.createElement("td",null,e.user.userName),n.a.createElement("td",null,e.offeredPrice))})))):n.a.createElement("p",null,"no bids  yet")))),n.a.createElement(X.a.Footer,{className:"text-muted"}," ",!1===t.isSold&&t.bidOffers.length>0?n.a.createElement(G.a,{variant:"primary",onClick:function(a){return e.handelClick(t._id)}},"sell it"):null)))})):null))}}]),a}(n.a.Component)),ee=Object(s.b)((function(e){return{currentUserID:e.user.currentUserID}}),null)(Z),te=a(46),ae=a.n(te),re=a(61),ne=(a(82),function(e){Object(R.a)(a,e);var t=Object(Q.a)(a);function a(e){var r;return Object(q.a)(this,a),(r=t.call(this,e)).handelSearch=function(){fetch("http://localhost:8000/api/product/search/"+r.props.currentUserID+"/"+r.state.searchField).then((function(e){return e.json()})).then((function(e){console.log(e),r.setState(Object(m.a)({},r.state,{products:e.data}))}))},r.addNewBid=function(){var e=Object(re.a)(ae.a.mark((function e(t){var a;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:8000/api/bidoffer/bidFor",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:r.props.currentUserID,product:t,offeredPrice:parseInt(r.state.bidField)})}).then((function(e){return e.json()})).then((function(e){return a=e.status}));case 2:e.sent,1===a?(r.setState({product:[],bidField:"",errorMessage:""}),r.handelSearch()):r.setState(Object(m.a)({},r.state,{bidField:"",errorMessage:"something went wrong"}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.state={products:[],searchField:"",bidField:"",errorMessage:""},r}return Object(K.a)(a,[{key:"render",value:function(){var e=this;return n.a.createElement("div",null,""===this.props.currentUserID?n.a.createElement("div",null,this.props.history.push("/")):n.a.createElement("div",null,n.a.createElement(_.a,null,n.a.createElement("div",null,""!==this.state.errorMessage?n.a.createElement(L.a,{variant:"danger"},this.state.errorMessage):null)),n.a.createElement(_.a,null,n.a.createElement(B.a,{xs:"2",sm:"3",md:"4"}),n.a.createElement(B.a,{xs:"2",sm:"3",md:"4"},n.a.createElement(M.a.Group,{as:_.a,controlId:"searchField"},n.a.createElement(B.a,{xs:"10"},n.a.createElement(M.a.Control,{type:"text",value:this.state.searchField,onChange:function(t){return e.setState(Object(m.a)({},e.state,{searchField:t.target.value}))},placeholder:"Search"})),n.a.createElement(B.a,{xs:"2"},n.a.createElement(G.a,{variant:"primary",className:"btn btn-primary",onClick:function(t){e.handelSearch()}},"Search"))))),n.a.createElement("div",null,n.a.createElement(V.a,null," ",this.state.products.length>0?this.state.products.map((function(t){return n.a.createElement(B.a,{xs:"12",sm:"6",md:"4"},n.a.createElement(X.a,{className:"text-center cardClass",key:t._id},n.a.createElement(X.a.Header,null,n.a.createElement("h3",null,"Product Name : ",t.productName),n.a.createElement("h5",null,"Owner : ",t.user.userName),n.a.createElement("h6",null,"initial price : ",t.initialPrice),n.a.createElement("h6",null,"Max Bid Offer : ",t.maxOfferedPrice)),n.a.createElement(X.a.Body,{className:"cardbodyClass"},n.a.createElement(X.a.Title,null,"bids on product"),n.a.createElement(X.a.Text,null,n.a.createElement("div",{className:"showBids"},t.bidOffers.length>0?n.a.createElement(Y.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"offerd by"),n.a.createElement("th",null,"offered price"))),n.a.createElement("tbody",null,t.bidOffers.map((function(e){return n.a.createElement("tr",null,n.a.createElement("td",null,e.user.userName),n.a.createElement("td",null,e.offeredPrice))})))):n.a.createElement("p",null,"no bids  yet")))),n.a.createElement(X.a.Footer,{className:"text-muted"}," ",n.a.createElement(M.a,{onSubmit:function(a){t.maxOfferedPrice>parseInt(e.state.bidField,10)?e.setState(Object(m.a)({},e.state,{errorMessage:"your bid offer should be more than "+t.maxOfferedPrice})):e.addNewBid(t._id,e.setState)}},n.a.createElement(M.a.Group,{as:_.a,controlId:"searchField"},n.a.createElement(B.a,{xs:"8"},n.a.createElement(M.a.Control,{type:"Number",onChange:function(t){return e.setState(Object(m.a)({},e.state,{bidField:t.target.value}))},placeholder:"bid now"})),n.a.createElement(B.a,null,n.a.createElement(G.a,{variant:"primary",type:"submit"},"add Bid")))))))})):null))))}}]),a}(n.a.Component)),ce=Object(s.b)((function(e){return{currentUserID:e.user.currentUserID}}),null)(ne);a(83);var le=function(){return n.a.createElement("div",{className:"App"},n.a.createElement(D,{history:!0}),n.a.createElement("div",{className:"after-header"},n.a.createElement(P.c,null,n.a.createElement(P.a,{exact:!0,path:"/",component:A}),n.a.createElement(P.a,{exact:!0,path:"/login",component:A}),n.a.createElement(P.a,{exact:!0,path:"/signup",component:H}),n.a.createElement(P.a,{exact:!0,path:"/addnewproduct",component:$}),n.a.createElement(P.a,{exact:!0,path:"/myproduct",component:ee}),n.a.createElement(P.a,{exact:!0,path:"/searchforproducts",component:ce}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(s.a,{store:E},n.a.createElement(b.a,null,n.a.createElement(le,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[64,1,2]]]);
//# sourceMappingURL=main.e0dbcc17.chunk.js.map